name: loop-continue-activity
variables:
  execution: 0
activities:
  - execute-script:
      id: act1
      on:
        one-of:
          - message-received:
              content: /execute
          - activity-finished:
              activity-id: act2
              if: ${variables.execution <= 1}
      script: |
        println "act1"
  - execute-script:
      id: act2
      script: |
        variables.execution++
  - execute-script:
      id: act3
      # = on/activity-finished: act2 without an if, i.e the default flow after act2
      # TODO, if an if is define here, then conditional flow from act2 -> act3 (not a loop), we need to add the default flow then
      script: |
        println "act3"
