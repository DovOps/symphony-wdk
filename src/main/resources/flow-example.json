{
  "name": "my-proposal",
  "version": 0,
  "global": [
    {
      "roomName": "Best room ever"
    }
  ],
  "activities": [
    {
      "create-room": {
        "id": "create-room-id-1",
        "description": "activity to create room when receiving /create-room slash command",
        "on": {
          "message": {
            "content": "/create-room"
          }
        },
        "name": "$global.$roomName",
        "uids": [
          1234,
          4567,
          7890
        ],
        "public": false
      }
    },
    {
      "send-message": {
        "id": "send-message-id-1",
        "description": "activity to send simple message",
        "streamId": "$create-room-id-1.$output.$streamId",
        "message": "<messageML>\n  <p>Hello people in $global.$roomName .</p>\n</messageML>\n"
      }
    },
    {
      "send-message": {
        "id": "send-message-id-2",
        "description": "activity to send a message when a user join the room",
        "on": {
          "user-joined": {
            "streamId": "$create-room-id-1.$output.$streamId"
          }
        },
        "streamId": "$create-room-id-1.$output.$streamId",
        "message": "<messageML><p>Welcome joining user!</p></messageML>"
      }
    }
  ]
}